<!DOCTYPE html>
<html lang="sq" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PyetShqip - Platforma p√´r Diaspor√´n</title>
    
    <!-- TAILWIND CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- GSAP FOR ANIMATIONS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    
    <!-- LUCIDE ICONS -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- MARKDOWN PARSER FOR CHATBOT -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

    <style>
        /* Custom Styles for Scrollbar & Animations */
        body { font-family: 'Inter', sans-serif; -webkit-tap-highlight-color: transparent; }
        .scrollbar-hide::-webkit-scrollbar { display: none; }
        .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }
        
        .chat-bubble { opacity: 0; transform: translateY(10px) scale(0.95); }
        
        /* Loader Animation */
        .typing-dot {
            animation: typing 1.4s infinite ease-in-out both;
        }
        .typing-dot:nth-child(1) { animation-delay: -0.32s; }
        .typing-dot:nth-child(2) { animation-delay: -0.16s; }
        
        @keyframes typing {
            0%, 80%, 100% { transform: scale(0); }
            40% { transform: scale(1); }
        }
    </style>
</head>
<body class="bg-white text-gray-900 overflow-x-hidden selection:bg-red-100 selection:text-red-900">

    <!-- NAVBAR -->
    <nav class="fixed top-0 w-full bg-white/90 backdrop-blur-md z-50 border-b border-gray-100 transition-all duration-300" id="navbar">
        <div class="max-w-7xl mx-auto px-6 h-16 flex items-center justify-between">
            <div class="flex items-center gap-2">
                <div class="w-8 h-8 bg-gradient-to-tr from-red-600 to-red-500 rounded-lg flex items-center justify-center text-white font-bold shadow-md shadow-red-200">P</div>
                <span class="font-bold text-xl tracking-tight text-gray-900">PyetShqip</span>
            </div>
            <div class="hidden md:flex items-center gap-8 text-sm font-medium text-gray-600">
                <a href="#how-it-works" class="hover:text-red-600 transition-colors">Si Funksionon</a>
                <a href="#features" class="hover:text-red-600 transition-colors">Ve√ßorit√´</a>
                <a href="#testimonials" class="hover:text-red-600 transition-colors">P√´rshtypje</a>
            </div>
            <div class="w-8"></div>
        </div>
    </nav>

    <!-- HERO SECTION -->
    <section class="pt-32 pb-20 px-6 max-w-7xl mx-auto flex flex-col md:flex-row items-center gap-12 md:gap-24 overflow-hidden">
        <!-- TEXT CONTENT -->
        <div class="md:w-1/2 text-center md:text-left z-10">
            <div class="hero-anim opacity-0 inline-flex items-center gap-2 bg-red-50 text-red-600 px-4 py-1.5 rounded-full text-xs font-bold uppercase tracking-wider mb-8 border border-red-100">
                <i data-lucide="globe" class="w-3 h-3"></i> E disponueshme n√´ 100+ shtete
            </div>
            <h1 class="hero-anim opacity-0 text-5xl md:text-6xl lg:text-7xl font-extrabold text-gray-900 mb-6 leading-[1.1] tracking-tight">
                Zgjidh √ßdo problem n√´ <br/>
                <span class="text-transparent bg-clip-text bg-gradient-to-r from-red-600 to-red-800">emigrim.</span>
            </h1>
            <p class="hero-anim opacity-0 text-lg text-gray-500 mb-8 leading-relaxed max-w-lg mx-auto md:mx-0 font-medium">
                Nuk je m√´ vet√´m. Un√´ t√´ ndihmoj t√´ plot√´sosh formularet, t√´ gjesh mjekun, t√´ m√´sosh gjuh√´n dhe t√´ aplikosh p√´r ndihma financiare.
            </p>
            
            <!-- BUTTONS -->
            <div class="hero-anim opacity-0 flex flex-col sm:flex-row gap-4 justify-center md:justify-start items-center mb-8">
                <button onclick="window.location.href='#'" class="flex items-center gap-3 bg-black text-white px-5 py-3 rounded-xl hover:bg-gray-800 transition-all shadow-lg active:scale-95 group">
                     <i data-lucide="apple" class="w-7 h-7 group-hover:text-gray-200 transition-colors"></i>
                     <div class="text-left">
                         <p class="text-[10px] uppercase font-bold leading-none mb-0.5 opacity-80">Shkarko n√´</p>
                         <p class="text-lg font-bold leading-none">App Store</p>
                     </div>
                </button>

                <button onclick="window.location.href='#'" class="flex items-center gap-3 bg-black text-white px-5 py-3 rounded-xl hover:bg-gray-800 transition-all shadow-lg active:scale-95">
                     <!-- Play Store SVG -->
                     <svg width="26" height="26" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M4 2L21.5 11.5L4 21.5V2Z" fill="#34A853"/>
                        <path d="M4 2L21.5 11.5L4 21.5V2Z" fill="url(#paint0_linear)"/><path d="M15 15L21.5 11.5L15 8V15Z" fill="#FBBC04"/><path d="M4 21.5L15 15L4 2V21.5Z" fill="url(#paint1_linear)"/>
                        <defs><linearGradient id="paint0_linear" x1="21.5" y1="11.5" x2="4" y2="2" gradientUnits="userSpaceOnUse"><stop stop-color="#EA4335"/><stop offset="1" stop-color="#EA4335" stop-opacity="0"/></linearGradient><linearGradient id="paint1_linear" x1="4" y1="21.5" x2="15" y2="15" gradientUnits="userSpaceOnUse"><stop stop-color="#4285F4"/><stop offset="1" stop-color="#4285F4" stop-opacity="0"/></linearGradient></defs>
                     </svg>
                     <div class="text-left">
                         <p class="text-[10px] uppercase font-bold leading-none mb-0.5 opacity-80">Shkarko n√´</p>
                         <p class="text-lg font-bold leading-none">Google Play</p>
                     </div>
                </button>
            </div>
            
             <div class="hero-anim opacity-0 flex items-center justify-center md:justify-start gap-4">
                <div class="flex items-center gap-3 bg-white px-5 py-3 rounded-full border border-gray-100 shadow-lg shadow-gray-100 hover:shadow-xl transition-all cursor-default w-fit hover:scale-105">
                     <div class="w-8 h-8 bg-green-50 rounded-full flex items-center justify-center text-sm shrink-0 border border-green-100">üéÅ</div>
                     <div class="flex flex-col text-left leading-tight">
                         <span class="text-[10px] text-gray-400 font-bold uppercase">√áMIMI</span>
                         <span class="text-gray-900 font-bold text-sm">Kushton sa nj√´ kafe/muaj</span>
                     </div>
                </div>
            </div>
        </div>
        
        <!-- PHONE MOCKUP -->
        <div class="md:w-1/2 w-full flex justify-center hero-phone opacity-0 relative">
             <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[350px] h-[350px] bg-red-500 rounded-full blur-[120px] opacity-15 -z-10"></div>
             
             <!-- Phone Device -->
             <div class="relative w-[300px] h-[620px] bg-gray-900 rounded-[45px] border-8 border-gray-800 shadow-2xl overflow-hidden mx-auto select-none transform hover:scale-[1.01] transition-transform duration-500">
                <!-- Notch -->
                <div class="absolute top-0 left-1/2 -translate-x-1/2 w-32 h-7 bg-gray-800 rounded-b-xl z-20"></div>
                <!-- Status Bar -->
                <div class="w-full h-8 bg-gray-900 flex justify-between items-center px-6 pt-2 z-10 relative">
                    <span class="text-[10px] text-white font-bold">9:41</span>
                    <div class="flex gap-1">
                       <div class="w-3 h-3 bg-white rounded-full opacity-20"></div>
                       <div class="w-3 h-3 bg-white rounded-full opacity-20"></div>
                    </div>
                </div>
                
                <!-- Phone Screen Content -->
                <div class="bg-gray-50 w-full h-full pt-10 pb-4 flex flex-col relative">
                   <!-- App Header -->
                   <div class="px-4 pb-3 border-b border-gray-200 flex items-center gap-3 bg-white sticky top-0 z-10 shadow-sm">
                      <div class="w-10 h-10 rounded-full bg-red-600 flex items-center justify-center text-white shrink-0 shadow-md">
                          <i data-lucide="bot" class="w-5 h-5"></i>
                      </div>
                      <div>
                          <p class="font-bold text-sm text-gray-800">PyetShqip AI</p>
                          <div class="flex items-center gap-1">
                              <div class="w-2 h-2 bg-green-500 rounded-full animate-pulse"></div>
                              <p class="text-xs text-gray-500 font-bold" id="mockup-status">‚Ä¢ Online ‚Ä¢ Gjermani</p>
                          </div>
                      </div>
                   </div>
                   
                   <!-- Chat Area -->
                   <div class="flex-1 p-4 space-y-4 overflow-hidden bg-gray-50/50" id="mockup-chat-area">
                       <!-- Messages will be injected by JS -->
                   </div>
                   
                   <!-- Input Area -->
                   <div class="px-4 pt-3 pb-6 bg-white border-t border-gray-100 shrink-0">
                       <div class="bg-gray-100 h-11 rounded-2xl flex items-center px-4 gap-3 border border-gray-200">
                           <i data-lucide="paperclip" class="w-4 h-4 text-gray-400"></i>
                           <div class="h-5 w-px bg-gray-300"></div>
                           <div class="flex-1 h-2 bg-gray-300 rounded-full opacity-30"></div>
                           <div class="w-8 h-8 bg-red-600 rounded-xl flex items-center justify-center shrink-0 shadow-sm">
                               <i data-lucide="send" class="w-3 h-3 text-white ml-0.5"></i>
                           </div>
                       </div>
                   </div>
                </div>
             </div>
        </div>
    </section>

    <!-- HOW IT WORKS -->
    <section id="how-it-works" class="py-24 bg-white relative">
         <div class="max-w-7xl mx-auto px-6">
            <div class="text-center mb-16 animate-on-scroll">
                <span class="text-red-600 font-bold uppercase text-xs tracking-widest mb-2 block">UDH√ãZUES I THJESHT√ã</span>
                <h2 className="text-3xl md:text-4xl font-bold mb-4 text-gray-900">Si Funksionon?</h2>
                <p class="text-gray-500 max-w-2xl mx-auto">Harroji k√´rkimet e pafundme n√´ Google. PyetShqip √´sht√´ asistenti yt personal.</p>
            </div>
            <div class="grid md:grid-cols-3 gap-8 relative z-10">
                
                <!-- Step 1: Profile -->
                <div class="animate-on-scroll flex flex-col gap-6">
                    <div class="bg-white p-6 rounded-3xl border border-gray-100 shadow-lg shadow-gray-100 h-[300px] flex flex-col">
                        <div class="w-full h-48 bg-white rounded-2xl border border-gray-100 shadow-inner p-5 flex flex-col justify-center gap-4 relative overflow-hidden" id="anim-step-1">
                             <div class="flex items-center gap-3 mb-1">
                                 <div class="w-8 h-8 rounded-full bg-gray-100"></div>
                                 <div class="h-2 w-20 bg-gray-200 rounded-full"></div>
                            </div>
                            <div class="space-y-3">
                                <div class="h-9 w-full bg-gray-50 rounded-lg border border-gray-100 flex items-center px-3 relative overflow-hidden">
                                    <span class="text-[10px] text-gray-400 absolute left-3 z-10">Emri</span>
                                    <div class="step1-bar h-full bg-gray-200 absolute left-0 top-0 w-0 opacity-20"></div>
                                    <div class="step1-text h-2 bg-gray-800 rounded-full w-0 ml-10"></div>
                                </div>
                                <div class="h-9 w-full bg-gray-50 rounded-lg border border-gray-100 flex items-center px-3 relative overflow-hidden">
                                     <span class="text-[10px] text-gray-400 absolute left-3 z-10">Shteti</span>
                                     <div class="step1-text h-2 bg-gray-800 rounded-full w-0 ml-10"></div>
                                </div>
                            </div>
                            <div class="step1-btn w-full h-10 bg-gray-100 rounded-lg flex items-center justify-center text-xs font-bold text-gray-400 mt-1 transition-colors">REGJISTROHU</div>
                            <!-- Success Overlay -->
                            <div class="step1-success absolute inset-0 bg-white/90 backdrop-blur-sm z-10 flex items-center justify-center opacity-0 scale-0">
                                 <div class="flex flex-col items-center">
                                    <div class="w-12 h-12 bg-green-500 rounded-full flex items-center justify-center text-white shadow-lg">
                                        <i data-lucide="check" class="w-6 h-6"></i>
                                    </div>
                                    <span class="text-green-600 font-bold text-sm mt-2">Profil u krijua!</span>
                                 </div>
                            </div>
                        </div>
                        <div class="mt-auto px-2">
                            <h3 class="font-bold text-xl mb-3 text-gray-900">1. Krijo Profilin</h3>
                            <p class="text-gray-500 leading-relaxed text-sm">Trego shtetin ku jeton q√´ t√´ marr√´sh informacion t√´ sakt√´.</p>
                        </div>
                    </div>
                </div>

                <!-- Step 2: Topic -->
                <div class="animate-on-scroll flex flex-col gap-6">
                    <div class="bg-white p-6 rounded-3xl border border-gray-100 shadow-lg shadow-gray-100 h-[300px] flex flex-col">
                        <div class="w-full h-48 bg-white rounded-2xl border border-gray-100 shadow-inner p-4 relative overflow-hidden" id="anim-step-2">
                            <div class="grid grid-cols-2 gap-3 h-full">
                                <div class="step2-card rounded-xl border border-gray-100 bg-gray-50 flex flex-col items-center justify-center gap-2 p-2">
                                    <i data-lucide="scale" class="text-gray-400 step2-icon w-6 h-6"></i>
                                    <div class="h-2 w-12 bg-gray-200 rounded-full"></div>
                                </div>
                                <div class="rounded-xl border border-gray-100 bg-gray-50 flex flex-col items-center justify-center gap-2 p-2 opacity-50">
                                    <i data-lucide="stethoscope" class="text-gray-400 w-6 h-6"></i>
                                    <div class="h-2 w-12 bg-gray-200 rounded-full"></div>
                                </div>
                                <div class="rounded-xl border border-gray-100 bg-gray-50 flex flex-col items-center justify-center gap-2 p-2 opacity-50">
                                    <i data-lucide="utensils" class="text-gray-400 w-6 h-6"></i>
                                    <div class="h-2 w-12 bg-gray-200 rounded-full"></div>
                                </div>
                                 <div class="rounded-xl border border-gray-100 bg-gray-50 flex flex-col items-center justify-center gap-2 p-2 opacity-50">
                                    <i data-lucide="heart" class="text-gray-400 w-6 h-6"></i>
                                    <div class="h-2 w-12 bg-gray-200 rounded-full"></div>
                                </div>
                            </div>
                            <!-- Cursor Hand -->
                            <div class="step2-cursor absolute top-0 left-0 pointer-events-none drop-shadow-xl z-20 opacity-0">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none"><path d="M5.5 3.5L11.5 19.5L14.5 12.5L21.5 9.5L5.5 3.5Z" fill="black" stroke="white" stroke-width="2"/></svg>
                            </div>
                        </div>
                        <div class="mt-auto px-2">
                             <h3 class="font-bold text-xl mb-3 text-gray-900">2. Zgjidh Problemin</h3>
                            <p class="text-gray-500 leading-relaxed text-sm">Nga ligjet te sh√´ndeti, zgjidh kategorin√´ q√´ t√´ duhet.</p>
                        </div>
                    </div>
                </div>

                <!-- Step 3: Chat -->
                <div class="animate-on-scroll flex flex-col gap-6">
                    <div class="bg-white p-6 rounded-3xl border border-gray-100 shadow-lg shadow-gray-100 h-[300px] flex flex-col">
                        <div class="w-full h-48 bg-gray-50 rounded-2xl border border-gray-100 shadow-inner p-4 flex flex-col relative overflow-hidden" id="anim-step-3">
                             <div class="step3-msg-user self-end bg-red-600 text-white p-3 rounded-2xl rounded-tr-none max-w-[80%] mb-3 shadow-sm opacity-0">
                                 <div class="h-2 w-24 bg-red-400 rounded-full"></div>
                             </div>
                             <div class="step3-typing self-start bg-white border border-gray-100 p-3 rounded-2xl rounded-tl-none mb-3 shadow-sm w-12 flex gap-1 items-center justify-center opacity-0">
                                 <div class="w-1.5 h-1.5 bg-gray-400 rounded-full typing-dot"></div>
                                 <div class="w-1.5 h-1.5 bg-gray-400 rounded-full typing-dot"></div>
                                 <div class="w-1.5 h-1.5 bg-gray-400 rounded-full typing-dot"></div>
                             </div>
                             <div class="step3-msg-ai self-start bg-white border border-gray-100 p-3 rounded-2xl rounded-tl-none max-w-[90%] shadow-sm opacity-0">
                                 <div class="h-2 w-full bg-gray-100 rounded-full mb-2"></div>
                                 <div class="h-2 w-2/3 bg-gray-100 rounded-full"></div>
                             </div>
                        </div>
                        <div class="mt-auto px-2">
                             <h3 class="font-bold text-xl mb-3 text-gray-900">3. Zgjidhje e Menj√´hershme</h3>
                            <p class="text-gray-500 leading-relaxed text-sm">Merr p√´rgjigje konkrete, jo thjesht informacion.</p>
                        </div>
                    </div>
                </div>

            </div>
         </div>
    </section>

    <!-- FEATURES -->
    <section id="features" class="py-24 bg-gray-900 text-white relative overflow-hidden">
        <div class="absolute top-0 right-0 w-[500px] h-[500px] bg-red-600 rounded-full blur-[180px] opacity-10"></div>
        <div class="absolute bottom-0 left-0 w-[500px] h-[500px] bg-blue-600 rounded-full blur-[180px] opacity-10"></div>
        <div class="max-w-7xl mx-auto px-6 relative z-10">
            <div class="text-center mb-16 animate-on-scroll">
                <span class="text-red-500 font-bold tracking-widest text-xs uppercase mb-2 block">VE√áORIT√ã KRYESORE</span>
                <h2 class="text-3xl md:text-4xl font-bold mb-6">M√´ shum√´ se thjesht AI.</h2>
            </div>
            <div class="grid md:grid-cols-3 gap-6">
                <!-- Feature Cards -->
                <div class="animate-on-scroll bg-gray-800/50 backdrop-blur-sm p-8 rounded-3xl border border-gray-700/50 hover:bg-gray-800 transition-all duration-300">
                    <div class="w-14 h-14 bg-gray-700 rounded-2xl flex items-center justify-center text-red-400 mb-6"><i data-lucide="shield" class="w-7 h-7"></i></div>
                    <h3 class="font-bold text-xl mb-3 text-white">Ligjore & Burokraci</h3>
                    <p class="text-gray-400 leading-relaxed text-sm">T√´ ndihmoj t√´ kuptosh letrat e pakuptueshme q√´ vijn√´ me post√´.</p>
                </div>
                <div class="animate-on-scroll bg-gray-800/50 backdrop-blur-sm p-8 rounded-3xl border border-gray-700/50 hover:bg-gray-800 transition-all duration-300">
                    <div class="w-14 h-14 bg-gray-700 rounded-2xl flex items-center justify-center text-red-400 mb-6"><i data-lucide="paperclip" class="w-7 h-7"></i></div>
                    <h3 class="font-bold text-xl mb-3 text-white">Analiz√´ Fotografie</h3>
                    <p class="text-gray-400 leading-relaxed text-sm">B√´j nj√´ foto letr√´s zyrtare dhe un√´ ta p√´rkthej e shpjegoj.</p>
                </div>
                <div class="animate-on-scroll bg-gray-800/50 backdrop-blur-sm p-8 rounded-3xl border border-gray-700/50 hover:bg-gray-800 transition-all duration-300">
                    <div class="w-14 h-14 bg-gray-700 rounded-2xl flex items-center justify-center text-red-400 mb-6"><i data-lucide="users" class="w-7 h-7"></i></div>
                    <h3 class="font-bold text-xl mb-3 text-white">Lidhja me Kultur√´n</h3>
                    <p class="text-gray-400 leading-relaxed text-sm">M√´so f√´mij√´ve shqip dhe gjej receta tradicionale.</p>
                </div>
                <div class="animate-on-scroll bg-gray-800/50 backdrop-blur-sm p-8 rounded-3xl border border-gray-700/50 hover:bg-gray-800 transition-all duration-300">
                    <div class="w-14 h-14 bg-gray-700 rounded-2xl flex items-center justify-center text-red-400 mb-6"><i data-lucide="stethoscope" class="w-7 h-7"></i></div>
                    <h3 class="font-bold text-xl mb-3 text-white">Sh√´ndeti & Urgjenca</h3>
                    <p class="text-gray-400 leading-relaxed text-sm">Gjej mjekun dhe shpjego simptomat n√´ gjuh√´n lokale.</p>
                </div>
                <div class="animate-on-scroll bg-gray-800/50 backdrop-blur-sm p-8 rounded-3xl border border-gray-700/50 hover:bg-gray-800 transition-all duration-300">
                    <div class="w-14 h-14 bg-gray-700 rounded-2xl flex items-center justify-center text-red-400 mb-6"><i data-lucide="globe" class="w-7 h-7"></i></div>
                    <h3 class="font-bold text-xl mb-3 text-white">Lokalizim i Sakt√´</h3>
                    <p class="text-gray-400 leading-relaxed text-sm">Informacion specifik p√´r qytetin ku ndodhesh.</p>
                </div>
                <div class="animate-on-scroll bg-gray-800/50 backdrop-blur-sm p-8 rounded-3xl border border-gray-700/50 hover:bg-gray-800 transition-all duration-300">
                    <div class="w-14 h-14 bg-gray-700 rounded-2xl flex items-center justify-center text-red-400 mb-6"><i data-lucide="bot" class="w-7 h-7"></i></div>
                    <h3 class="font-bold text-xl mb-3 text-white">Asistent 24/7</h3>
                    <p class="text-gray-400 leading-relaxed text-sm">Gjithmon√´ k√´tu p√´r ty, dit√´n dhe nat√´n.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- TESTIMONIALS -->
    <section id="testimonials" class="py-24 bg-white relative">
        <div class="max-w-7xl mx-auto px-6">
             <div class="text-center mb-16 animate-on-scroll">
                <h2 class="text-3xl font-bold mb-4 text-gray-900">P√´rshtypjet e P√´rdoruesve</h2>
            </div>
            <div class="relative overflow-hidden" id="testimonials-container">
                <!-- Navigation Buttons -->
                <button id="prev-test" class="absolute left-0 top-1/2 -translate-y-1/2 -translate-x-4 z-20 bg-white border border-gray-200 shadow-lg rounded-full p-3 hover:bg-gray-50 hidden md:block">
                    <i data-lucide="chevron-left" class="w-6 h-6"></i>
                </button>
                <button id="next-test" class="absolute right-0 top-1/2 -translate-y-1/2 translate-x-4 z-20 bg-white border border-gray-200 shadow-lg rounded-full p-3 hover:bg-gray-50 hidden md:block">
                    <i data-lucide="chevron-right" class="w-6 h-6"></i>
                </button>
                
                <div class="overflow-hidden py-4 -mx-4 px-4">
                    <div class="flex transition-transform duration-500 ease-in-out gap-8" id="testimonials-track">
                        <!-- Items injected by JS -->
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- FOOTER -->
    <footer class="bg-gray-900 pt-20 pb-10 border-t border-gray-800">
          <div class="max-w-7xl mx-auto px-6">
              <div class="grid md:grid-cols-4 gap-12 mb-16">
                  <div class="col-span-1 md:col-span-2">
                      <div class="flex items-center gap-2 mb-6">
                          <div class="w-10 h-10 bg-red-600 rounded-xl flex items-center justify-center text-white font-bold text-xl shadow-md">P</div>
                          <span class="font-bold text-2xl tracking-tight text-white">PyetShqip</span>
                      </div>
                      <p class="font-bold text-white text-sm max-w-sm">Platforma e par√´ e inteligjenc√´s artificiale e dedikuar ekskluzivisht p√´r shqiptar√´t.</p>
                  </div>
                  <div>
                      <h4 class="font-bold mb-6 text-white">Navigim</h4>
                      <ul class="space-y-4 text-sm text-gray-400">
                          <li><a href="#how-it-works" class="hover:text-white">Si Funksionon</a></li>
                          <li><a href="#features" class="hover:text-white">Ve√ßorit√´</a></li>
                          <li><a href="#testimonials" class="hover:text-white">P√´rshtypje</a></li>
                      </ul>
                  </div>
                  <div>
                      <h4 class="font-bold mb-6 text-white">Ligjore</h4>
                      <ul class="space-y-4 text-sm text-gray-400">
                          <li><a href="privacy.html" class="hover:text-white">Politika e Privat√´sis√´</a></li>
                          <li><a href="terms.html" class="hover:text-white">Kushtet e Sh√´rbimit</a></li>
                      </ul>
                  </div>
              </div>
              <div class="border-t border-gray-800 pt-8 flex justify-between items-center text-xs text-gray-500">
                  <p>¬© 2025 PyetShqip.</p>
                  <div class="flex items-center gap-2 bg-gray-800 px-4 py-2 rounded-full border border-gray-700">
                      <span class="text-gray-300 font-medium">Krijuar me krenari p√´r shqiptar√´t!</span>
                      <span class="text-red-500 text-base">üá¶üá±</span>
                  </div>
              </div>
          </div>
    </footer>

    <!-- CHATBOT WIDGET -->
    <div class="fixed bottom-6 right-6 z-40">
        <!-- Chat Window (Hidden by default) -->
        <div id="chat-window" class="hidden absolute bottom-16 right-0 w-80 sm:w-96 h-[500px] bg-white rounded-2xl shadow-2xl border border-gray-200 flex flex-col overflow-hidden mb-2 origin-bottom-right transition-all">
            <!-- Header -->
            <div class="bg-red-600 p-4 flex justify-between items-center shrink-0">
                <div class="flex items-center gap-3">
                    <div class="w-8 h-8 bg-white/20 rounded-full flex items-center justify-center text-white">
                        <i data-lucide="bot" class="w-4 h-4"></i>
                    </div>
                    <div>
                        <h4 class="font-bold text-white text-sm">Pyetje & P√´rgjigje</h4>
                        <p class="text-red-100 text-[10px]">Asistenti Informativ</p>
                    </div>
                </div>
                <button id="close-chat" class="text-white/80 hover:text-white">
                    <i data-lucide="x" class="w-5 h-5"></i>
                </button>
            </div>

            <!-- Messages -->
            <div id="chat-messages" class="flex-1 overflow-y-auto bg-gray-50 p-4 space-y-3">
                <div class="flex justify-start">
                    <div class="max-w-[85%] p-3 rounded-2xl text-xs leading-relaxed bg-white text-gray-800 border border-gray-200 rounded-tl-none shadow-sm">
                        P√´rsh√´ndetje! Un√´ jam asistenti informativ i PyetShqip. Keni ndonj√´ pyetje rreth aplikacionit?
                    </div>
                </div>
            </div>

            <!-- Input -->
            <form id="chat-form" class="p-3 bg-white border-t border-gray-100 flex gap-2 shrink-0">
                <input type="text" id="chat-input" placeholder="Pyet rreth aplikacionit..." class="flex-1 text-sm bg-gray-100 border-none rounded-lg px-3 py-2 focus:ring-1 focus:ring-red-500 outline-none">
                <button type="submit" class="bg-red-600 text-white p-2 rounded-lg hover:bg-red-700 transition-colors">
                    <i data-lucide="send" class="w-4 h-4"></i>
                </button>
            </form>
        </div>

        <!-- Toggle Button -->
        <button id="toggle-chat" class="w-14 h-14 bg-red-600 text-white rounded-full shadow-lg shadow-red-200 hover:bg-red-700 hover:scale-105 active:scale-95 transition-all flex items-center justify-center">
            <i data-lucide="message-square" class="w-6 h-6"></i>
        </button>
    </div>

    <!-- SCRIPTS -->
    <script>
        // ================= CONFIGURATION =================
        const API_KEY = "YOUR_API_KEY_HERE"; // <---- REPLACE THIS

        // ================= INIT ICONS =================
        lucide.createIcons();

        // ================= ANIMATIONS (GSAP) =================
        document.addEventListener("DOMContentLoaded", () => {
            
            // HERO ANIMATION
            const tlHero = gsap.timeline({ defaults: { ease: "power3.out" } });
            tlHero.to(".hero-anim", { opacity: 1, y: 0, duration: 1, stagger: 0.1 })
                  .to(".hero-phone", { opacity: 1, y: 0, duration: 1.2, ease: "power2.out" }, "-=0.8");

            // SCROLL ANIMATIONS
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        gsap.to(entry.target, { opacity: 1, y: 0, duration: 0.8, ease: "power2.out" });
                        observer.unobserve(entry.target);
                    }
                });
            }, { threshold: 0.1 });

            document.querySelectorAll('.animate-on-scroll').forEach((el) => {
                gsap.set(el, { opacity: 0, y: 40 });
                observer.observe(el);
            });

            // "HOW IT WORKS" ANIMATIONS
            
            // Step 1: Profile
            const tlStep1 = gsap.timeline({repeat: -1, repeatDelay: 2});
            tlStep1.to(".step1-text", {width: "60%", duration: 0.6, ease: "power1.inOut", delay: 0.5})
                   .to(".step1-btn", {scale: 0.95, duration: 0.1, yoyo: true, repeat: 1}, "+=0.2")
                   .to(".step1-btn", {backgroundColor: "#dc2626", color: "#ffffff", duration: 0.2})
                   .to(".step1-success", {scale: 1, opacity: 1, duration: 0.4, ease: "back.out(1.7)"}, "+=0.1");

            // Step 2: Topic
            const tlStep2 = gsap.timeline({repeat: -1, repeatDelay: 1.5});
            tlStep2.to(".step2-cursor", {opacity: 1, x: 20, y: 20, duration: 1, ease: "power2.out"})
                   .to(".step2-cursor", {scale: 0.8, duration: 0.1, yoyo: true, repeat: 1})
                   .to(".step2-card", {scale: 1.05, borderColor: "#dc2626", backgroundColor: "#fef2f2", duration: 0.2}, "-=0.1")
                   .to(".step2-icon", {color: "#dc2626", duration: 0.2}, "<")
                   .to(".step2-cursor", {opacity: 0, duration: 0.5, delay: 0.5});

            // Step 3: Chat
            const tlStep3 = gsap.timeline({repeat: -1, repeatDelay: 3});
            tlStep3.to(".step3-msg-user", {opacity: 1, y: 0, scale: 1, duration: 0.4, ease: "back.out(1.5)", delay: 0.5})
                   .to(".step3-typing", {opacity: 1, duration: 0.2})
                   .to(".step3-typing", {opacity: 0, duration: 0.2, delay: 0.8})
                   .to(".step3-msg-ai", {opacity: 1, y: 0, scale: 1, duration: 0.4, ease: "back.out(1.5)"});
        });

        // ================= PHONE MOCKUP LOGIC =================
        const scenarios = [
            { 
              country: "United Kingdom", 
              msgs: [
                {r:'user',t:"Si mund t√´ aplikoj p√´r 'Universal Credit'? Kam mbetur pa pun√´."}, 
                {r:'ai',t:"Mos u shqet√´so, un√´ t√´ ndihmoj hap pas hapi. Ja √ßfar√´ duhet t√´ b√´sh tani:\n\n1. Krijo llogari n√´ GOV.UK (t√´ duhet email dhe num√´r telefoni).\n2. P√´rgatit ID dhe t√´ dh√´nat e qiras√´.\n3. A d√´shiron t√´ t√´ d√´rgoj linkun direkt t√´ aplikimit?"}
              ] 
            },
            { 
              country: "Gjermani", 
              msgs: [
                {r:'user',t:"M√´ duhet t√´ b√´j 'Anmeldung'. Kam kontrat√´n e sht√´pis√´."}, 
                {r:'ai',t:"Shum√´ mir√´. P√´rve√ß kontrat√´s, t√´ duhet formulari 'Wohnungsgeberbest√§tigung' (Konfirmimi i Qiradh√´n√´sit).\n\n‚Ä¢ Un√´ mund ta plot√´soj formularin p√´r ty n√´se m√´ d√´rgon nj√´ foto t√´ kontrat√´s.\n‚Ä¢ A d√´shiron t√´ gjej 'B√ºrgeramt' m√´ t√´ af√´rt me ty?"}
              ] 
            },
            { 
              country: "Itali", 
              msgs: [
                {r:'user',t:"Si rinovohet 'Permesso di Soggiorno'? M√´ skadon muajin tjet√´r."}, 
                {r:'ai',t:"Duhet t√´ veprosh shpejt. Procesi √´sht√´ ky:\n1. Shko n√´ 'Poste Italiane' dhe k√´rko 'Kit Giallo'.\n2. Plot√´so Modulin 1 (un√´ t√´ ndihmoj me p√´rkthimin).\n3. Paguaj buletinin 30.46‚Ç¨.\n\nEja e b√´jm√´ bashk√´ tani. Hape formularin."}
              ] 
            }
        ];
        
        let scenarioIdx = 0;
        function playScenario() {
            const data = scenarios[scenarioIdx];
            document.getElementById('mockup-status').innerText = `‚Ä¢ Online ‚Ä¢ ${data.country}`;
            const chatArea = document.getElementById('mockup-chat-area');
            chatArea.innerHTML = '';
            
            data.msgs.forEach((m, i) => {
                const el = document.createElement('div');
                el.className = `flex ${m.r === 'user' ? 'justify-end' : 'justify-start'} mb-3 chat-bubble`;
                el.innerHTML = `
                    <div class="max-w-[90%] p-3.5 rounded-2xl text-xs leading-relaxed shadow-sm ${m.r === 'user' ? 'bg-red-600 text-white rounded-tr-none' : 'bg-white text-gray-800 border border-gray-100 rounded-tl-none'}">
                        ${m.t.replace(/\n/g, '<br/>')}
                    </div>
                `;
                chatArea.appendChild(el);
                
                gsap.to(el, {
                    opacity: 1, y: 0, scale: 1, 
                    duration: 0.4, 
                    delay: i * 1.5, 
                    ease: "back.out(1.7)"
                });
            });

            scenarioIdx = (scenarioIdx + 1) % scenarios.length;
        }
        
        playScenario();
        setInterval(playScenario, 12000); // Slower interval for longer messages


        // ================= TESTIMONIALS LOGIC =================
        const testimonials = [
            { name: "Arben K.", country: "Gjermani", text: "M√´ erdhi nj√´ let√´r nga Finanzamt dhe u tremba shum√´. I b√´ra foto dhe AI m√´ shpjegoi q√´ ishte thjesht njoftim." },
            { name: "Elira M.", country: "Itali", text: "Studioj n√´ Rom√´ dhe kisha probleme me dokumentet e universitetit. PyetShqip m√´ tregoi ekzakt√´sisht cilin formular t√´ plot√´soja." },
            { name: "Besnik S.", country: "Angli", text: "E p√´rdor p√´r gjith√ßka. Nga aplikimi p√´r Universal Credit e deri te gjetja e dyqaneve me produkte shqiptare." },
            { name: "Valbona D.", country: "SHBA", text: "Procesi i Green Card √´sht√´ shum√´ i komplikuar. PyetShqip m√´ ndihmoi t√´ kuptoja √ßdo hap t√´ intervist√´s." },
            { name: "Mimoza H.", country: "Zvic√´r", text: "Pensioni n'Zvic√´r osht kogja i vshtir√´. PyetShqip ma shpjegoi shtyll√´n e par√´ e t'dyt√´ t'sigurimeve qart." },
            { name: "Sokol M.", country: "Belgjik√´", text: "Letrat e komun√´s n√´ Bruksel vinin vet√´m fr√´ngjisht. Me k√´t√´ aplikacion i kuptoj direkt dhe di √ßka me ba." },
            { name: "Ilir B.", country: "Austri", text: "Kur b√´n Anmeldung n√´ Vjen√´ √´sht√´ gjithmon√´ rr√´muj√´. Aplikacioni m√´ p√´rgatiti √ßdo gj√´ dhe nuk pata asnj√´ problem." }
        ];

        const track = document.getElementById('testimonials-track');
        let tIndex = 0;
        
        function renderTestimonials() {
            track.innerHTML = '';
            // Group by 3 for desktop
            const isDesktop = window.innerWidth >= 768;
            const groupSize = isDesktop ? 3 : 1;
            const totalSlides = Math.ceil(testimonials.length / groupSize);

            for(let i=0; i<totalSlides; i++) {
                const slideDiv = document.createElement('div');
                slideDiv.className = "w-full flex-shrink-0 grid md:grid-cols-3 gap-8";
                
                const group = testimonials.slice(i*groupSize, (i+1)*groupSize);
                group.forEach(t => {
                    slideDiv.innerHTML += `
                        <div class="bg-gray-50 p-8 rounded-3xl border border-gray-100 flex flex-col h-full">
                            <p class="text-gray-700 italic mb-6 flex-1 text-sm">"${t.text}"</p>
                            <div class="flex items-center gap-4 mt-auto border-t border-gray-200 pt-4">
                                <div class="w-10 h-10 bg-white border border-gray-200 rounded-full flex items-center justify-center font-bold text-gray-600 text-sm">${t.name.charAt(0)}</div>
                                <div>
                                    <h4 class="font-bold text-sm text-gray-900">${t.name}</h4>
                                    <span class="text-xs text-gray-500">${t.country}</span>
                                </div>
                            </div>
                        </div>
                    `;
                });
                track.appendChild(slideDiv);
            }
        }

        function updateSlide() {
            track.style.transform = `translateX(-${tIndex * 100}%)`;
        }

        document.getElementById('next-test').addEventListener('click', () => {
             const isDesktop = window.innerWidth >= 768;
             const groupSize = isDesktop ? 3 : 1;
             const totalSlides = Math.ceil(testimonials.length / groupSize);
             tIndex = (tIndex + 1) % totalSlides;
             updateSlide();
        });

        document.getElementById('prev-test').addEventListener('click', () => {
             const isDesktop = window.innerWidth >= 768;
             const groupSize = isDesktop ? 3 : 1;
             const totalSlides = Math.ceil(testimonials.length / groupSize);
             tIndex = (tIndex - 1 + totalSlides) % totalSlides;
             updateSlide();
        });

        window.addEventListener('resize', () => { renderTestimonials(); updateSlide(); });
        renderTestimonials();

        // ================= CHATBOT LOGIC =================
        const chatWindow = document.getElementById('chat-window');
        const toggleBtn = document.getElementById('toggle-chat');
        const closeBtn = document.getElementById('close-chat');
        const chatForm = document.getElementById('chat-form');
        const chatInput = document.getElementById('chat-input');
        const chatMsgs = document.getElementById('chat-messages');

        toggleBtn.addEventListener('click', () => chatWindow.classList.toggle('hidden'));
        closeBtn.addEventListener('click', () => chatWindow.classList.add('hidden'));

        async function getAIResponse(userText) {
            // Simple fetch to Gemini API
            const url = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=${API_KEY}`;
            const prompt = `
                You are the sales support bot for 'PyetShqip'.
                ROLE: Answer questions about the app's features, pricing, and purpose.
                PRICING: Free (Falas).
                LANGUAGE: Albanian.
                User said: "${userText}"
            `;
            
            try {
                const response = await fetch(url, {
                    method: 'POST',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({ contents: [{ parts: [{ text: prompt }] }] })
                });
                const data = await response.json();
                return data.candidates[0].content.parts[0].text;
            } catch (e) {
                console.error(e);
                return "Ndodhi nj√´ gabim. Provoni m√´ von√´.";
            }
        }

        chatForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            const text = chatInput.value.trim();
            if(!text) return;

            // User Msg
            chatMsgs.innerHTML += `
                <div class="flex justify-end">
                    <div class="max-w-[85%] p-3 rounded-2xl text-xs leading-relaxed bg-red-600 text-white rounded-tr-none">
                        ${text}
                    </div>
                </div>`;
            chatInput.value = '';
            chatMsgs.scrollTop = chatMsgs.scrollHeight;

            // AI Loading
            const loadingId = 'loading-' + Date.now();
            chatMsgs.innerHTML += `
                <div class="flex justify-start" id="${loadingId}">
                    <div class="bg-white border border-gray-200 p-3 rounded-2xl rounded-tl-none shadow-sm w-12 flex gap-1 items-center justify-center">
                        <div class="w-1.5 h-1.5 bg-gray-400 rounded-full typing-dot"></div>
                        <div class="w-1.5 h-1.5 bg-gray-400 rounded-full typing-dot"></div>
                        <div class="w-1.5 h-1.5 bg-gray-400 rounded-full typing-dot"></div>
                    </div>
                </div>`;
            chatMsgs.scrollTop = chatMsgs.scrollHeight;

            const aiText = await getAIResponse(text);
            
            document.getElementById(loadingId).remove();
            chatMsgs.innerHTML += `
                <div class="flex justify-start">
                    <div class="max-w-[85%] p-3 rounded-2xl text-xs leading-relaxed bg-white text-gray-800 border border-gray-200 rounded-tl-none shadow-sm">
                        ${marked.parse(aiText)}
                    </div>
                </div>`;
            chatMsgs.scrollTop = chatMsgs.scrollHeight;
        });

    </script>
</body>
</html>